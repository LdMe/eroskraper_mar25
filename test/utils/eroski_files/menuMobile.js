(function(){define(["jquery","common/layer/overlay","common/scroll/scrolling","common/config/device","common/config/globalConfig","common/layer/layerInfoMobile","common/scroll/customScroll","materialize"],function(c,x,m,r,h,w,o){var q;function s(){if(r.isDesktop()){u();w.outLayerInfoMobile("#footer-mobile")}if(r.isMobile()){g();v();p();b();f();t()}a();k();i()}c(document).on("doReset",function(z,y){n()});function e(){if(r!=undefined&&r.isMobile()){if(c(".purchasing-process-item.nav-mob").hasClass("active")){c(".nav-mob-button-close").click()}}}function t(){var y=c(window).scrollTop();c(document).on("scroll",function(){const z=c(window).scrollTop();if(z>y){c("body").addClass("header-scroll-xs")}else{}y=z<=0?0:z;if(q){clearTimeout(q)}q=setTimeout(function(){c("body").removeClass("header-scroll-xs")},1000)})}function n(){v();l();s()}function b(){c(".user-bar-title").each(function(y){c(this).on("click",function(z){c(".user-bar-title.open").not(this).toggleClass("open");if(c(".lang > a").not(this).hasClass("active")){c(".lang > a").not(this).removeClass("active");c(".lang > a").not(this).parent().find(".lang-content").slideUp(400)}c(this).toggleClass("open")})})}function f(){var y={cursorcolor:"#D8D8D8",cursorwidth:"10px"};c(".user-bar-mob").niceScroll(".user-bar-content",y)}function l(){c(".shopping-cart-bar .purchasing-process-item.shopping-cart").off();c(".shopping-cart-bar .purchasing-process-item").siblings().off();c(".shopping-cart-bar .purchasing-process-item").unbind("mouseenter").unbind("mouseleave");c(".shopping-cart-bar .purchasing-process-item").removeProp("hoverIntent_t");c(".shopping-cart-bar .purchasing-process-item").removeProp("hoverIntent_s");c(".general-info-test").off();c(".burguer-menu").off();c(".lang > a").off()}function k(){c(".user-bar .combo select").material_select()}function u(){if(r.isTouch()){c(".shopping-cart-bar .purchasing-process-item").on("click",function(y){setTimeout(function(){var z={cursorcolor:"#D8D8D8",cursorwidth:"10px"};c(".shopping-cart-summary-scroll").each(function(A){if(c(this).getNiceScroll().length==0){c(this).niceScroll(".wrap-summary-scroll",z)}});setTimeout(function(){c(".shopping-cart-summary-scroll").getNiceScroll().resize()},1)},1);if(!c(this).hasClass("current-page")){if(c(this).hasClass("active")){y.preventDefault();c(this).removeClass("active");c(this).find(".purchasing-layer").removeClass("active")}else{c(".purchasing-layer").removeClass("active");c(".shopping-cart-bar .purchasing-process-item").removeClass("active");y.preventDefault();c(this).addClass("active");c(this).find(".purchasing-layer").addClass("active")}}j(y)});c(".purchasing-layer").on("click",function(y){j(y)});c(window).click(function(y){if(c(y.target).closest(".purchasing-layer").length==0){c(".shopping-cart-bar .purchasing-process-item").not(".visible").removeClass("active");c(".shopping-cart-bar .purchasing-process-item .purchasing-layer").not(".visible").removeClass("active")}if(c(y.target).closest("#popover-cart").length==0||c(y.target).hasClass(".cart-alert").length==0){c("#popover-cart").addClass("inactive")}})}else{c(".shopping-cart-bar .purchasing-process-item").hoverIntent(function(y){if(y){y.preventDefault()}setTimeout(function(){var z={cursorcolor:"#D8D8D8",cursorwidth:"10px"};c(".shopping-cart-summary-scroll").each(function(A){if(c(this).getNiceScroll().length==0){c(this).niceScroll(".wrap-summary-scroll",z)}});setTimeout(function(){c(".shopping-cart-summary-scroll").getNiceScroll().resize()},1)},1);c(this).addClass("active");c(this).find(".purchasing-layer").addClass("active");c("#popover-cart").removeClass("inactive")},function(){if(c(this).hasClass("active")){if(!c(".wrap-easy-purchase, .wrap-quick-purchase").length){c(this).removeClass("active")}else{if(c(this).hasClass("shopping-cart")){c(this).removeClass("active")}}}c(this).find(".purchasing-layer").removeClass("active")})}}function j(z){var y=c(z.target);if(y.closest(".create-list-button").length>0){c(".shopping-cart-bar .purchasing-process-item.shopping-cart").not(".current-page").addClass("active");c(this).parent(".purchasing-process-item").find(".purchasing-layer.shopping-cart-layer").toggleClass("active")}else{z.stopPropagation()}}function i(){c(".user-bar input.select-dropdown").on("click",function(y){if(y){y.preventDefault()}e();c(this).addClass("dropdown-button");c(".dropdown-button").dropdown({inDuration:300,outDuration:225,belowOrigin:true,alignment:"right"});if(c(this).parents(".combo").hasClass("active")){c(this).parents(".combo").removeClass("active");return true}c(this).parents(".combo").addClass("active")})}function a(){var z=0;var y;c(window).on("scroll",function(B){y=c(this).scrollTop();if(c(".user-bar .combo").hasClass("active")){if(B){B.preventDefault()}c(".user-bar .combo").removeClass("active")}c(".user-bar ul.select-dropdown").attr("style","width: 110px; position: absolute; top: 0px; left: 0px; opacity: 1; display: none;");c(".user-bar .combo .select-dropdown.dropdown-button").removeClass("active");if(y>0){var A=c(".header").outerHeight();if(!d()){c(".header").addClass("fixed");c(".wrap").not(".wrap-search-result").css("height","auto")}c(".checkout-layer").removeClass("active");if(y<z){if(!c(".header").hasClass("open-menu")&&r.isMobile()){c(".menu").addClass("not-collapsed")}else{if(!r.isMobile()){c(".menu").addClass("not-collapsed")}}c(".nav-mob").addClass("not-collapsed");c(".nav").addClass("not-collapsed");c(".product-item-sheet-layer").addClass("not-collapsed");z=y+1}else{c(".menu").removeClass("not-collapsed");c(".nav-mob").removeClass("not-collapsed");c(".nav").removeClass("not-collapsed");c(".product-item-sheet-layer").removeClass("not-collapsed");z=y-1}}else{c(".header").removeClass("fixed")}setTimeout(function(){o.resetAll()},200)})}function v(){w.setupLayerInfoMobile(".general-info-test","#footer-mobile","#my-acount-menu-mobile")}function g(){c(".login-check").off().on("click",function(z){if(z){z.preventDefault()}w.controlOpenClosed("#footer-mobile");w.controlOpenClosed("#my-acount-menu-mobile");c(".nav").removeClass("active");c(".nav-mob").removeClass("active");c("li.back").remove();c(".nav-level-1 > li").removeClass("active");c(".nav-level-2 > li").removeClass("active");c(".nav-level-2").removeClass("active");c(".nav-level-3").removeClass("active");if(c(".header").hasClass("open-menu")){c("body").css("overflow","initial");c("body > div").css("overflow","initial");c(".header").removeClass("open-menu");return true}else{c(".menu").removeClass("not-collapsed");var y=c(".header").outerHeight();c("body").css("overflow","hidden");c("body > div").css("overflow","hidden");c(".wrap").css("height",(c(window).height()-y)+"px");c(".wrap").css("overflow","hidden");if(r.isIOS()){m.removeScrollingiOS();c("html").addClass("ios");c(".header").removeClass("search-bar-open");c(".product-item-sheet-layer").removeClass("layer-searchbar-open");c(".search-menu a").removeClass("active");c(".searchForm").removeClass("active");c(".search-button").hide();c(".shopping-cart-bar .search-result").removeClass("opened");c(".search-bar").removeClass("active");c(".search-bar").removeClass("activated")}c(".user-bar-content").css("right","0");c(".header").addClass("open-menu")}if(r.isIOS()&&r.isMobileSmaller()){m.removeScrollingiOS()}});c(".user-bar-body li").each(function(y,z){if(c(z).find("ul").length===0){c(this).addClass("no-children")}});c(".lang > a").off().on("click",function(y){if(y){y.preventDefault()}if(c(this).hasClass("active")){c(this).removeClass("active");c(this).parent().find(".lang-content").slideUp(400);return true}c(this).addClass("active");c(this).parent().find(".lang-content").slideDown(400)})}function p(){if(c(".wrap-shopping-cart").length){c(".purchasing-process-item.shopping-cart").addClass("active");c(".shopping-cart-mobile").hide();c(".shopping-cart-active").show()}}function d(){return c(".nav.scrollable").hasClass("active")||c(".header").hasClass("open-menu")}return{init:s}})}).call(this);