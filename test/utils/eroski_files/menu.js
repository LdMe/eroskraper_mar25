(function(){define(["jquery","common/layer/overlay","common/scroll/scrolling","common/config/device","common/config/globalConfig","common/layer/layerInfoMobile","common/button/btnUpToTop","t5/core/ajax","common/scroll/customScroll"],function(v,H,K,G,n,i,E,w,a){var l;var g=v("body");var q=[];v(window).on("resize",function(){if(!G.isIOS()){r(true,false)}else{k()}});function F(Q){if(G.isDesktop()){f();if(!G.isTabletHorizontal()&&!G.isTouch()){h()}else{B();if(G.isIOS()){L()}else{h()}v(window).on("resize",function(){h()})}}else{if(G.isMobile()){b();k();var O=v(".shopping-cart-button").attr("data-multibasket");if(O=="true"){u()}}}M();z();v("a").on("click",function(){if(v(this).hasClass("not_clickable")){event.preventDefault()}if(v(this).hasClass("not_traceable")){var U=v(this).attr("data-href");if(U){location.href=U}}});window.onresize=d;if(Q=="eroski"){q.push("");q.push("")}var N=v("ul.nav-level-1 li.secondary-color");for(var R=0;R<N.length;R++){var S=N[R].getAttribute("class").split(" ");for(var P=0;P<S.length;P++){if(S[P].startsWith("nav-item-")){var T=S[P].split("-")[2];q.push(T.split(".")[0])}}}}function u(){if(G.isMobile()){v(".shopping-cart-button").on("click",function(N){N.preventDefault();v(".multibasketSummary").toggleClass("active");v(".multibasketSummary").getNiceScroll().resize()})}}function d(){h(true)}function M(){if(G.isDesktop()){v("li.hideOnMobile").hide()}else{v("li.hideOnMobile").show()}}v(document).on("doReset",function(){r(true,false)});function r(N,O){v(".nav-level-4").removeClass("active");v(".nav-level-3").removeClass("active");v(".nav-level-2 > li").removeClass("active");v(".nav-level-1 > li").removeClass("preactive active");v(".nav-level-1 li").show();v(".nav-level-2 li").show();v(".header").removeClass("open-menu");v(".header .menu-content").css("right","0");v(".nav-level-content").stop().slideUp(500);v(".nav-level-1 .preactive").removeClass("preactive");v(".nav-level-content").stop().slideUp();v("li.hideOnTablet").hide();v("li.hideOnMobile").hide();v(".nav-level-3").hide();v(".nav-level-4").hide();v(".nav .inactive").removeClass("inactive");v("nav .active").removeClass("active");v("nav").removeClass("active");v(".nav-mob").removeClass("active");if(v(".overlay").length&&!O){E.toggleBtnScrollToTop();H.removeOverlay(g);document.removeEventListener("touchmove",m)}v(".banners-nav-category").each(function(){v(this).hide()});v("html, body, .nav, .nav ul, .nav li, .nav a").removeAttr("style");if(N){v(".nav-level-1 > li").off();v(".nav-level-2 > li").off();v(".nav-level-3 > li").off();v(".nav-level-4 > li").off();if(!v("div.nav-level-content").length){v(".nav-level-2").wrap('<div class="nav-level-content"></div>');v(".nav-level-content").each(function(){if(v(this).siblings(".banners-nav-category").size()>0){v(this).append(v(this).next(".banners-nav-category"))}})}F()}}var m=function(N){N.preventDefault()};function s(N){if(N==null||N==1){return true}return false}function o(O,N){if(O==N){return true}return false}function e(){var N=sessionStorage.getItem("dataPosition");if(sessionStorage.getItem("selectedCategoryId")){v(".nav-level-1 > li.nav-item-"+sessionStorage.getItem("selectedCategoryId")).find(">a").addClass("active")}if(N){v(".nav-level-1").stop(true,true).animate({marginLeft:N+"px"},500)}var P=sessionStorage.getItem("paginas");var O=sessionStorage.getItem("pagina");if(s(O)){v(".btn-more-categories").show();v(".btn-less-categories").hide();v(".btn-next-categories").removeClass("active-btn");v(".btn-prev-categories").removeClass("active-btn")}else{if(o(P,O)){v(".btn-more-categories").hide();v(".btn-next-categories").removeClass("active-btn");if(P==2){v(".btn-less-categories").show()}else{v(".btn-prev-categories").addClass("active-btn");v(".btn-less-categories").hide()}}else{v(".btn-more-categories").hide();v(".btn-less-categories").hide();v(".btn-next-categories").addClass("active-btn");v(".btn-prev-categories").addClass("active-btn")}}}function f(){A();function N(U){if(U){U.preventDefault()}if(v(this).hasClass("no-children")){return}if(l&&l.menuItems){l.hideFn()}var R=v(this).find(">a").closest("ul > li").attr("class");var V=R.search("nav-item-");var T=R.substring(V).split("-")[2].split(".")[0].trim();var S=1;for(var Q=0;Q<q.length;Q++){if(q[Q].trim().localeCompare(T)==0){sessionStorage.setItem("selectedCategory",S);sessionStorage.setItem("selectedCategoryId",T);break}S++}var P=v(this).find(">a");v(".nav-level-1 > li").find(">a").removeClass("active");P.addClass("active");v(".nav-level-content").removeClass("active");P.next(v(".nav-level-content")).stop().slideDown(500,function(){if(G.isTablet()||G.isMobile()){v("body").css("overflow","hidden");v("body > div").css("overflow","hidden");if(G.isTablet()){document.addEventListener("touchmove",m,{passive:false})}}}).addClass("active");if(G.isDesktop()){v(this).parent().find(".img_minisite").each(function(){v(this).attr("src",v(this).attr("data-src"))})}if(G.isTablet()||G.isMobile()||G.isTouch()){if(!v(".overlay").length){E.toggleBtnScrollToTop();H.setOverlay(g,v(".nav-level-1").data("view-section"))}if(P.next(v(".nav-level-content.active")).find("a.active").not(".no-children").attr("href")!=v(".overlay a").attr("href")){D(P)}}M()}function O(P){if(P){P.preventDefault()}c(P,v(this))}v(".nav-level-1 > li").not(".no-children").hoverIntent({interval:300,timeout:300,over:N,out:O});v(".nav-level-2 > li").hoverIntent({over:function(Q){if(Q){Q.preventDefault()}var P=v(this);if(Q.offsetX>P.outerWidth()){return}v(".nav-level-2 > li").find(">a").each(function(){v(this).removeClass("active")});P.find(">a").addClass("active");v(".nav-level-3").find(".active").removeClass("active");v(".nav-level-3").hide();v(".nav-level-4").find(".active").removeClass("active");v(".nav-level-4").hide();P.find(">a").next(v(".nav-level-3")).show().addClass("active");if(G.isTabletHorizontal()&&G.isIOS()){v(this).find("a:not(.no-children)").click()}J(v(this))},out:function(){}});v(".nav-level-3 > li").hoverIntent({over:function(Q){if(Q){Q.preventDefault()}var P=v(this);v(".nav-level-4").find(".active").removeClass("active");v(".nav-level-4").hide();P.find(">a").next(v(".nav-level-4")).show().addClass("active");if(G.isTabletHorizontal()&&G.isIOS()){v(this).find("a:not(.no-children)").click()}J(v(this))},out:function(){}});v(".nav-level-4 > li").hoverIntent({over:function(Q){if(Q){Q.preventDefault()}var P=v(this);v(".nav-level-4 > li").find(">a").each(function(){v(this).removeClass("active")});P.find(">a").addClass("active");v(".nav-level-4").find(".active").removeClass("active");v(".nav-level-4").hide();P.find(">a").next(v(".nav-level-4")).show().addClass("active");if(G.isTabletHorizontal()&&G.isIOS()){v(this).find("a:not(.no-children)").click()}J(v(this))},out:function(){}});v(".nav-level-4 > li").hoverIntent({over:function(Q){if(Q){Q.preventDefault()}var P=v(this);v(".nav-level-4 > li").find(">a").each(function(){v(this).removeClass("active")});P.find(">a").addClass("active");J(v(this))},out:function(){}});if(!G.isTabletHorizontal()&&!G.isTouch()){v(".nav-level-2 > li a, .nav-level-3 > li a, .nav-level-4 > li a").unbind().on("click",function(){if(G.isTabletHorizontal()||!G.isDesktop()){r(false,false)}else{if(G.isDesktop()){v(".nav-level-content").stop().slideUp(500);v(".nav-level-4").removeClass("active");v(".nav-level-3").removeClass("active");v(".nav-level-2 > *").removeClass("active");v(".nav-level-1 > li").removeClass("preactive");if(v(".overlay").length){E.toggleBtnScrollToTop();H.removeOverlay(g);v("body").css("overflow-y","initial");v("body > div").css("overflow-y","initial");v("body").css("overflow-x","hidden");v("body > div").css("overflow-x","hidden")}}}})}}function c(O,N){N.find(">a").removeClass("active");setTimeout(function(){if(l&&l.menuItems&&v(".nav-level-1 >li > a.active").length===0){p(l);l.showFn()}},900);if(G.isTabletHorizontal()&&G.isTouch()||!G.isDesktop()){r(false,false)}else{if(G.isDesktop()){v(".nav-level-content").stop().slideUp(500);v(".nav-level-2 > li").find(".active").removeClass("active");v(".nav-level-3").hide();v(".nav-level-4").hide();v(".nav-level-1 > li").removeClass("preactive active");if(v(".overlay").length&&((!v(".nav-item").has(v(O.toElement)).length))||v(O.toElement).hasClass("no-children")||v(O.toElement).closest("li").hasClass("nav-item-offers")||v(O.toElement).hasClass("btn-prev-categories")||v(O.toElement).hasClass("btn-next-categories")){E.toggleBtnScrollToTop();H.removeOverlay(g);v("body").css("overflow-y","initial");v("body > div").css("overflow-y","initial");v("body").css("overflow-x","hidden");v("body > div").css("overflow-x","hidden")}}}M();v(".banners-nav-category").hide()}function J(R){var O;var Q=v(R).closest(".nav-level-content.active");if(Q.length>0){var P=Q.find("li > a.active").last();O=v(P).closest("li").attr("class").split("-").pop()}else{O=v(R).attr("class").split("-").pop()}var N=v(".banner-nav-category.ms-"+O);if(!N.is(":visible")){v(".banners-nav-category").each(function(){v(this).hide()});N.each(function(){v(this).closest(".banners-nav-category").show();v(this).show()})}}v.fn.swap=function(N){N=N.jquery?N:v(N);return this.each(function(){v(document.createTextNode("")).insertBefore(this).before(N.before(this)).remove()})};function z(){var N=11;var O=v(".header .nav-level-1 > li").length;if(O>=N&&v(".xmas")&&(v(".btn-more-categories").css("display")=="block"||v(".btn-less-categories").css("display")=="block")){v(".xmas").insertBefore(v(".header .nav-level-1 > li:eq( 9 )"));v(".header .nav-level-1 > li.xmas:last-of-type").remove()}else{if(O>=N&&v(".xmas")&&v(".btn-more-categories, .btn-less-categories").css("display")=="none"){v(".xmas").insertAfter(v(".header .nav-level-1 > li:last-of-type"));v(".header .nav-level-1 > li.xmas:first-of-type").remove()}}}function I(P){var N=sessionStorage.getItem("selectedCategory");var O=1;while(N>P*O){O++}sessionStorage.setItem("pagina",O)}function y(R,T,S,Q,O){var N=T==S;var P;if(N){P=-Q*R}else{if(T==1){P=0}else{P=-(parseInt(T)-1)*O*R}}sessionStorage.setItem("dataPosition",P);return P}function h(X){if(X){v(".btn-next-categories").removeClass("active-btn");v(".btn-prev-categories").removeClass("active-btn")}var R=11;var Y=v(".header .nav-level-1 > li").length;var P=v(".header .nav-level-1 > li").width();var Q=window.innerWidth;var N=window.innerHeight;v(".hideOnTablet").show(function(){if(Y>R){v(".nav-level-1").css("width",Y*v(".header .nav-level-1 > li").width()+18);v(".header .nav-level-1 > li").width(P);z();v(".btn-more-categories").show()}});if(Q>=1366){I(10);z()}else{if(Q<1366&&Q>1100){R=9;I(R-1);z()}else{if(Q<=1100&&Q>850){R=7;I(R-1);z()}else{if(Q<=850&&Q>768){R=6;I(R-1);z()}}}}var U=1;if(sessionStorage.getItem("pagina")){U=sessionStorage.getItem("pagina")}var O=Y;var Z=R-1;var T=O-Z;var aa=T/Z>1;var S=Math.trunc(O/Z);if(Math.trunc(O/Z)!=(O/Z)){S+=1}var ab=y(P,U,S,T,Z);sessionStorage.setItem("paginas",S);var W=v(".header .nav-level-1 > li.featured-items").length;if(Q>=1366&&Y>R){var V=10-W;v(".featured-items").each(function(ac){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(V))})}else{if(Q>=1366&&Y<=R){var V=10-W;v(".featured-items").each(function(ac){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(V))})}else{if(Q<1366&&Q>1100&&Y>=10){var V=8-W;v(".featured-items").each(function(ac){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(V))})}else{if(Q<=1100&&Q>850&&Y>=8){var V=6-W;v(".featured-items").each(function(ac){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(V))})}else{if(Q<=850&&Q>769&&Y>=5){var V=5-W;v(".featured-items").each(function(ac){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(V))})}}}}}if(O>Z){e()}v(".btn-more-categories").off("click").unbind().on("click",function(){var ac=(parseInt(U)+1)==S;if(ac){ab=-T*P}else{ab=-U*Z*P}U++;v(".nav-level-1").css("width",Y*P+Y);v(".nav-level-1").stop(true,true).animate({marginLeft:ab+"px"},500);sessionStorage.setItem("dataPosition",ab);if(aa){v(".btn-more-categories").hide();v(".btn-next-categories").addClass("active-btn");v(".btn-prev-categories").addClass("active-btn")}else{v(".btn-more-categories").hide();v(".btn-less-categories").show()}sessionStorage.setItem("pagina",U)});v(".btn-less-categories").off("click").unbind().on("click",function(){U--;ab=-(parseInt(U)-1)*Z*P;v(".nav-level-1").stop(true,true).animate({marginLeft:ab+"px"},500);sessionStorage.setItem("dataPosition",ab);if(U==1){v(".btn-more-categories").show()}z();if(aa){v(".btn-more-categories").hide();v(".btn-less-categories").hide();v(".btn-next-categories").addClass("active-btn");v(".btn-prev-categories").addClass("active-btn")}else{v(".btn-more-categories").show();v(".btn-less-categories").hide()}sessionStorage.setItem("pagina",U)});v(".btn-next-categories").off("click").unbind().on("click",function(){H.removeOverlay(g);var ac=(parseInt(U)+1)==S;if(ac){ab=-T*P}else{ab=-U*Z*P}U++;v(".nav-level-1").css("width",Y*P+Y);v(".nav-level-1").stop(true,true).animate({marginLeft:ab+"px"},500);sessionStorage.setItem("dataPosition",ab);if(ac){v(".btn-next-categories").removeClass("active-btn")}v(".btn-prev-categories").addClass("active-btn");sessionStorage.setItem("pagina",U)});v(".btn-prev-categories").off("click").unbind().on("click",function(){H.removeOverlay(g);U--;ab=-(parseInt(U)-1)*Z*P;v(".nav-level-1").stop(true,true).animate({marginLeft:ab+"px"},500);sessionStorage.setItem("dataPosition",ab);if(U==1){v(".btn-more-categories").show();v(".btn-next-categories").removeClass("active-btn")}else{v(".btn-next-categories").addClass("active-btn")}z();if(U==1){v(".btn-prev-categories").removeClass("active-btn")}sessionStorage.setItem("pagina",U)})}function L(){h();v(".nav-level-3 > li a").unbind().on("click",function(){v(".nav-level-1 > li").trigger("mouseout");r(false,false);v(".breadcrumbs-container").fadeIn("slow")})}function A(){v(".nav-level-1 li").each(function(N,O){if(v(O).find("ul").length===0){v(this).find("a").addClass("no-children")}})}function b(){v(".nav-level-2").unwrap();A();v(".nav-mob-button-back").unbind().off().on("click",function(O){if(O){O.preventDefault()}D(v(this));var N=v(".nav-level-1 li a:not(.no-children)");N.parent("li").find(".active").removeClass("active");N.parent("li").removeClass("active");v(".nav-level-1 li.preactive").removeClass("preactive");N.parent("li").siblings("li").removeClass("inactive");N.parent("li").find(".inactive").removeClass("inactive");v(".nav-level-2").siblings("a").removeClass("not_traceable");v(".nav-level-3").siblings("a").removeClass("not_traceable");v(".nav-level-4").siblings("a").removeClass("not_traceable");v(".overlay-content").hide();v(".nav-mob-button-back").removeClass("active")});k();v(".nav-mob-button-close").unbind().off().on("click",function(N){if(N){N.preventDefault()}i.controlOpenClosed("#my-acount-menu-mobile");E.toggleBtnScrollToTop();v(".overlay-content").hide();v(this).parent().removeClass("active");v(".nav").removeClass("active");H.removeOverlay(g);r(false,false)});v(".nav-mob > a").unbind().off().on("click",function(N){if(N){N.preventDefault()}i.controlOpenClosed("#my-acount-menu-mobile");E.toggleBtnScrollToTop();v(".overlay-content").hide();if(!v(this).parent().hasClass("active")){r();t();H.setOverlay(g,v(".nav-level-1").data("view-section"));v("body").css("overflow","hidden");v("body > div").css("overflow","hidden");v(this).parent().addClass("active");setTimeout(function(){v(".nav-mob").addClass("active")},100);v(".nav").addClass("active");if(G.isIOS()){K.removeScrollingiOS()}var O={cursorcolor:"#D8D8D8",cursorwidth:"10px",hwacceleration:true,smoothscroll:true};v(".nav-bottom.nav.scrollable").niceScroll(O);setTimeout(function(){v(".nav-bottom.nav.scrollable").getNiceScroll().resize()},100)}if(v(".overlay").length){v(".overlay").click(function(){i.controlOpenClosed("#my-acount-menu-mobile");v(".nav ul").removeClass("active");v(".nav li").removeClass("active");v(".nav").removeClass("active");E.toggleBtnScrollToTop();H.removeOverlay(g);E.toggleBtnScrollToTop();r(false,false)})}});v(".nav-level-1 li a:not(.no-children)").off().click(function(O){if(O){O.preventDefault()}D(v(this));if(v(this).parent("li").hasClass("active")){if(!v(this).parent("li").parent().hasClass("nav-level-2")){var N=v(".nav-level-2.active li.active a:not(.no-children)");N.parent("li").find(".active").removeClass("active");N.parent("li").removeClass("active");v(".nav-level-1 li.preactive").removeClass("preactive");N.parent("li").siblings("li").removeClass("inactive");N.parent("li").find(".inactive").removeClass("inactive");v(".nav-level-2").siblings("a").removeClass("not_traceable");v(".nav-level-3").siblings("a").removeClass("not_traceable");v(".overlay-content").hide()}}else{v(this).parents("li.active").addClass("preactive");v(this).parent("li").addClass("active");v(this).parent("li").find(".active").removeClass("active");v(this).parent("li").find("> ul").addClass("active");v(this).parent("li").siblings("li:not(.active)").addClass("inactive");v(".nav-mob-button-back").addClass("active")}v(".nav-bottom.nav.scrollable").getNiceScroll().resize()});v(".nav-level-3 > li a").unbind().on("click",function(){v(".nav-mob").removeClass("active");v("nav .active").removeClass("active");v(".nav .inactive").removeClass("inactive");H.removeOverlay(g);v(".nav-level-1 li").hide()});v(".nav-level-4 > li a").unbind().on("click",function(){v(".nav-mob").removeClass("active");v("nav .active").removeClass("active");v(".nav .inactive").removeClass("inactive");H.removeOverlay(g);v(".nav-level-1 li").hide()})}function B(){v(".nav-level-1 li a:not(.no-children)").off().on("click",function(N){if(G.isTouch()){if(N){N.preventDefault()}D(v(this))}})}function D(O){var N=O.attr("href");if(N){v(".overlay-content").attr("href",N);if("#"!==N){v(".overlay-content").show()}else{v(".overlay-content").hide()}}}function p(O){if(!G.isMobile()&&!G.isTouch()&&O&&O.menuItems){var N=C(O.menuItems[0],2);j(N)}l=O}function j(N){v("nav .active").removeClass("active");N.addClass("active");N.parentsUntil("div.nav","li.secondary-color").children("a").addClass("active")}function C(N,O){return v(".nav-level-"+O+" >li.nav-item-"+N.ref+" >a")}function t(){if(l&&l.menuItems&&l.menuItems.length>0){var O=C(l.menuItems[0],2);if(O.length>0){v("nav .active").removeClass("active");v(".nav .inactive").removeClass("inactive");O.parentsUntil("nav-level-1").addClass("active");v(".nav-level-1 > li.active").addClass("preactive");v(".nav-level-1 > li:not(.active)").addClass("inactive");O.parent().siblings("li:not(.active)").addClass("inactive");O.siblings(".nav-level-3").addClass("active");if(l.menuItems.length>1){var N=C(l.menuItems[1],3);if(N.length>0){O.parent().addClass("preactive");N.addClass("active")}}}if(v(".nav-level-2.active").length){v(".nav-mob-button-back").addClass("active")}}}function x(O){if(O&&O.length>0){if(G.isTablet()||G.isMobile()){E.toggleBtnScrollToTop();H.setOverlay(g,v(".nav-level-1").data("view-section"))}var N=C(O[0],2);j(N);var Q=N.parentsUntil("div.nav","div.nav-level-content");Q.stop().slideDown(500).addClass("active");Q.on("mouseleave",function(R){c(R,Q)});if(O.length>1){var P=C(O[1],3);P.addClass("active");N.next(v(".nav-level-3")).stop().slideDown(500).addClass("active");J(P.parent())}else{J(N.parent())}}}function k(){var N=window.innerWidth;var Q=window.innerHeight;var P=v(".header .nav-level-1 > li.featured-items").length;if(N<=768&&Q>=890){var O=13-P;v(".featured-items").each(function(R){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(O))})}else{if(N<=768&&Q>=830){var O=12-P;v(".featured-items").each(function(R){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(O))})}else{if(N<=768&&Q>=790){var O=11-P;v(".featured-items").each(function(R){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(O))})}else{if(N<=768&&Q>=730){var O=10-P;v(".featured-items").each(function(R){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(O))})}else{if(N<=768&&Q>=690){var O=9-P;v(".featured-items").each(function(R){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(O))})}else{if(N<=768&&Q>=605){var O=8-P;v(".featured-items").each(function(R){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(O))})}else{if(N<=768&&Q>=545){var O=7-P;v(".featured-items").each(function(R){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(O))})}else{if(N<=768&&Q>=486){var O=6-P;v(".featured-items").each(function(R){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(O))})}else{if(N<=768&&Q>=430){var O=5-P;v(".featured-items").each(function(R){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(O))})}else{if(N<=768&&Q>=420){var O=4-P;v(".featured-items").each(function(R){v(this).insertBefore(v(".header .nav-level-1 > li:not(.featured-items)").eq(O))})}}}}}}}}}}}return{init:F,activeMenuByBreadCrumb:p,openMenuItems:x}})}).call(this);