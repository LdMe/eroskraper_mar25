(function(){define(["jquery","common/layer/overlay","components/layer/basketNotificator","common/zone/zoneUpdaterManager","t5/core/ajax","underscore"],function(f,d,c,a,i,j){var b;function l(){d.setupCloseOverlayWhite();e()}function e(){f("#overlay-delete-basket").find(".overlay-buttons .overlay-white-confirm").on("click",function(){var s=f(".button.secondary-button.overlay-white-confirm");var m=f(".save-clean-cart .clean-cart.clicked");if(!m.length){m=f(".clean-multicart.clicked")}if(m.length){s.addClass("disable-button");f(".shopping-cart-bar .purchasing-process-item .purchasing-layer").removeClass("active");var q=f(this).parents("#overlay-delete-basket").data("url");var o=m.data("zones").split(",");var n=a.updateZonesToRefresh(o);var t=m.data("message-ok");var r=m.data("message-ko");var p=m.data("basket-type");if(!p){p="ALI"}i(q,{data:j.extend({basketType:p},n),success:function(){k(t);b&&b.success&&b.success()},failure:function(){k(r);b&&b.failure&&b.failure()},complete:function(){m.removeClass("clicked");s.removeClass("disable-button");g()}})}else{s.removeClass("disable-button");g()}})}function k(m){c.addNotification([{title:m}])}function g(){d.closeOverlay()}function h(m){b=m}return{init:l,setExtra:h}})}).call(this);